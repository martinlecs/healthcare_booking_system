{% extends 'base.html' %} {% block body %}
    <h2>Profile</h2>
    {% if content %}
        <h3>Name: {{ " ".join([content['given_name'], content['surname']]) }} </h3>
        <h3>Email: {{ content['email'] }}</h3>
        <h3>Medicare Number: {{ content['medicare_no'] }}</h3>

        <table>
            <tr>
                <th>Date</th>
                <th>Time</th>
                {% if prov_view %}
                    <th> Patient </th>
                    <th> Reason </th>
                {% else %}
                    <th>Provider</th>
                {% endif %}
                <th>Health Centre</th>
            </tr>
            {% for appt in appointments %}
                <tr>
                    <td>{{ appt['date'] }}</td>
                    <td>{{ appt['time_slot']}} </td>
                    {% if prov_view %}
                        <td><a href="{{ url_for('patient_profile', patient=appt['patient_email']) }}"> {{ appt['patient_name'] }}</a></td>
                        <td>{{ appt['reason']}} </td>
                    {% else %}
                        <td><a href="{{ url_for('provider_profile', provider=appt['provider_email']) }}"> {{appt['prov_name']}}</a></td>
                    {% endif %}
                    <td><a href="{{ url_for('centre_profile', centre=appt['centre_id']) }}"> {{appt['centre_name']}}</a></td>
                    <td><a href="{{ url_for('view_appointment', apptid=appt['id']) }}"> View Appointment </a></td>
                </tr>
            {% endfor%}
        </table>

    {% else %}
        <h3>Sorry, it seems that this profile is unavailable.</h3>
    {% endif%} 
{% endblock %}