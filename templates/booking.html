{% extends 'base.html' %}
{% block body %}
	<h2>Make A Booking</h2>
	<div>
		<p>Provider: {{ provider.surname }} {{ provider.given_name }}</p>
		<p>Centre: {{ centre.name }}</p>
	</div>
	<h3>Choose a date</h3>
	<div>
		<form method='GET'>
			<input type="date" name="date" value="{{date}}">
			<button type="submit">Submit</button>
		</form>
		<div>
			{% if error %}
				Please Select Date
			{% endif%}
		</div>
	</div>
	{% if date_chosen %}
		<h3>Choose from the following 30 mins slots</h3>
		<!-- Note: These are 30 minute slots, starting at the time displayed -->
		<table>
			<tr>
				<th>Time slot</th>
				<th>Book</th>
			</tr>
			{% for slot in available_slots %}
				<tr>
					<td>{{ slot }}</td>
					<td><a href="{{ url_for('book_confirmed', provider=provider.email, centre=centre.id, date=date, time_slot=slot) }}">Book</a></td>
				</tr>
			{% endfor %}
		</table>
	{% endif %}
{% endblock %}